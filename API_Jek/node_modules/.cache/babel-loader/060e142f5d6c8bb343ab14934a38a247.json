{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rodrigo\\\\Desktop\\\\API_Jek\\\\react-google-authentication\\\\src\\\\components\\\\Login.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { refreshTokenSetup } from '../utils/refreshToken';\nconst clientId = '707788443358-u05p46nssla3l8tmn58tpo9r5sommgks.apps.googleusercontent.com';\n\nfunction Login() {\n  const onSuccess = res => {\n    const idToken = res.tokenObj.id_token;\n    axios.post('http://127.0.0.1:8000/login', {\n      token: idToken\n    }).then(server_res => {\n      console.log(server_res.data);\n      let {\n        status,\n        token\n      } = server_res.data;\n\n      if (status === \"found\") {\n        alert(`Logged in successfully welcome ${res.profileObj.name}.`);\n        refreshTokenSetup(res);\n      } else {\n        alert(\"User not found\");\n      }\n    }); // .catch(error => {console.log(error.response)});\n  };\n\n  const onFailure = res => {\n    console.log('Login failed: res:', res);\n    alert(`Failed to login.`);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: clientId,\n    buttonText: \"Login\",\n    onSuccess: onSuccess,\n    onFailure: onFailure,\n    cookiePolicy: 'single_host_origin',\n    style: {\n      marginTop: '100px'\n    },\n    isSignedIn: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Rodrigo/Desktop/API_Jek/react-google-authentication/src/components/Login.js"],"names":["axios","React","GoogleLogin","refreshTokenSetup","clientId","Login","onSuccess","res","idToken","tokenObj","id_token","post","token","then","server_res","console","log","data","status","alert","profileObj","name","onFailure","marginTop"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,iBAAT,QAAkC,uBAAlC;AAEA,MAAMC,QAAQ,GACZ,0EADF;;AAGA,SAASC,KAAT,GAAiB;AACf,QAAMC,SAAS,GAAIC,GAAD,IAAS;AACzB,UAAMC,OAAO,GAAGD,GAAG,CAACE,QAAJ,CAAaC,QAA7B;AACAV,IAAAA,KAAK,CAACW,IAAN,CAAW,6BAAX,EAA0C;AAACC,MAAAA,KAAK,EAAEJ;AAAR,KAA1C,EAA6DK,IAA7D,CAAmEC,UAAD,IAAc;AAC9EC,MAAAA,OAAO,CAACC,GAAR,CAAYF,UAAU,CAACG,IAAvB;AACA,UAAI;AAAEC,QAAAA,MAAF;AAAUN,QAAAA;AAAV,UAAoBE,UAAU,CAACG,IAAnC;;AAEA,UAAIC,MAAM,KAAK,OAAf,EAAwB;AACtBC,QAAAA,KAAK,CACF,kCAAiCZ,GAAG,CAACa,UAAJ,CAAeC,IAAK,GADnD,CAAL;AAIAlB,QAAAA,iBAAiB,CAACI,GAAD,CAAjB;AACD,OAND,MAQK;AACHY,QAAAA,KAAK,CAAC,gBAAD,CAAL;AACD;AACF,KAfD,EAFyB,CAkBzB;AACD,GAnBD;;AAqBA,QAAMG,SAAS,GAAIf,GAAD,IAAS;AAEzBQ,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCT,GAAlC;AAEAY,IAAAA,KAAK,CACF,kBADE,CAAL;AAGD,GAPD;;AASA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AACE,IAAA,QAAQ,EAAEf,QADZ;AAEE,IAAA,UAAU,EAAC,OAFb;AAGE,IAAA,SAAS,EAAEE,SAHb;AAIE,IAAA,SAAS,EAAEgB,SAJb;AAKE,IAAA,YAAY,EAAE,oBALhB;AAME,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KANT;AAOE,IAAA,UAAU,EAAE,IAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAaD;;AAED,eAAelB,KAAf","sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { refreshTokenSetup } from '../utils/refreshToken';\r\n\r\nconst clientId =\r\n  '707788443358-u05p46nssla3l8tmn58tpo9r5sommgks.apps.googleusercontent.com';\r\n\r\nfunction Login() {\r\n  const onSuccess = (res) => {\r\n    const idToken = res.tokenObj.id_token;\r\n    axios.post('http://127.0.0.1:8000/login', {token: idToken }).then((server_res)=>{\r\n      console.log(server_res.data);\r\n      let { status, token } = server_res.data;\r\n\r\n      if (status === \"found\") {\r\n        alert(\r\n          `Logged in successfully welcome ${res.profileObj.name}.`\r\n        );\r\n\r\n        refreshTokenSetup(res);\r\n      } \r\n      \r\n      else {\r\n        alert(\"User not found\"); \r\n      } \r\n    });\r\n    // .catch(error => {console.log(error.response)});\r\n  };\r\n\r\n  const onFailure = (res) => {\r\n    \r\n    console.log('Login failed: res:', res);\r\n\r\n    alert(\r\n      `Failed to login.`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogin\r\n        clientId={clientId}\r\n        buttonText=\"Login\"\r\n        onSuccess={onSuccess}\r\n        onFailure={onFailure}\r\n        cookiePolicy={'single_host_origin'}\r\n        style={{ marginTop: '100px' }}\r\n        isSignedIn={true}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}